<!-- textModal -->
<div id="climateControlModal" class="appmodal" ng-controller="ElementClimateControlController" ng-if="modalArr.climateControlModal">
    <div class="appmodal-in">
        <div class="appmodal-header">
            <span class="appmodal-close" ng-click="handleModal('climateControlModal', $event)"><i class="fas fa-times"></i></span>
            <h3>{{dataHolder.devices.find.metrics.title}}</h3>
        </div>
        <div class="appmodal-body">
            <bb-alert alert="widgetClimateControl.alert"></bb-alert>
           <div class="multiline-entry" ng-if="widgetClimateControl.rooms">
                <table class="table table-report table-condensed">
                    <tbody>
                        <tr class="bcg-success" ng-repeat="n in widgetClimateControl.rooms" ng-if="n.room > 0">
                            <td class="td-img">
                                <img class="report-img img-circle" ng-src="{{n.roomIcon}}" />
                            </td>
                            <td class="text-left">{{n.roomTitle}}</td>
                            <td>
                                <span class="text-primary_">{{n.sensorLevel}}  {{n.scaleTitle}}</span>
                            </td>
                            <td class="text-right">
                                <i class="fas fa-arrow-right"></i>
                            </td>
                            <td class="text-right">
                               <span class="text-success">{{n.targetTemp}}  Â°C</span>
                            </td>
                            <td class="text-right">

                                <select class="form-control" 
                                        name="changeMode_{{n.room}}" 
                                        id="changeMode_{{n.room}}"
                                        ng-model="n.state"
                                        ng-change="changeClimateControlMode({cmd: widgetClimateControl.find.id + '/command/' + n.state + '?room=' + n.room, room: n.room})">
                                    <option value="{{m}}" ng-repeat="m in cfg.climate_state" ng-disabled="m == 'schedule' && !n.hasSchedule" ng-selected="n.state == m">{{_t(m)}}</option>
                                </select>
                            </td>
                        </tr>
                    </tbody>
                </table>

            </div>
        </div>
        <!--<div class="appmodal-footer">
            <button type="button" class="btn btn-default" ng-click="handleModal('climateControlModal', $event)"><i class="fas fa-times text-danger"></i> {{_t('lb_close')}}</button>
        </div>-->
    </div>
</div>