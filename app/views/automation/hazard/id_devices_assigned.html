<section class="accordion-wrap" ng-repeat="d in hazardProtection.input.params.triggerEvent track by $index" ng-init="model=d">
  <h2 class="accordion-toggle chevron">
  <!-- Deleted device -->
  <span class="no-toggle text-danger" ng-show="!hazardProtection.availableDevices[model.deviceId]">
    <i class="fa fa-exclamation-circle"></i> {{d.device}} {{_t('device_removed')}}
  </span>
  <!-- Title -->
  <button type="button" aria-expanded="false" bb-accordion ng-if="hazardProtection.availableDevices[model.deviceId] && (d.deviceType != 'toggleButton')" ng-hide="!hazardProtection.availableDevices[model.deviceId]">
  <span>
    {{hazardProtection.availableDevices[model.deviceId].deviceName}}  <em>{{_t(model.status)}}</em> <em ng-if="model.status == 'lvl'">{{model.level}}</em>
  </span>
  </button>
  <!-- NO Toggle -->
  <span class="no-toggle" ng-if="d.deviceType == 'toggleButton'" ng-hide="!hazardProtection.availableDevices[model.deviceId]">
    <span>
      {{hazardProtection.availableDevices[model.deviceId].deviceName}}
    </span>
  </span>
  <span class="btn btn-text" title="{{_t('lb_remove')}}" ng-click="unassignDevice($index,model.deviceId)">
    <i class="fa fa-times text-danger"></i>
  </span>
  </h2>
  <!-- Content -->
  <div class="accordion" ng-include="'app/views/automation/hazard/inputs/'+ model.deviceType +'.html'" ng-if="d.deviceType != 'toggleButton'"
  hidden></div>
</section>