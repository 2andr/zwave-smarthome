<div class="flexcards security">
  <div class="flexcard flip control" title="{{d.deviceName}}" ng-repeat="d in security.devices.controls track by $index">
    <div class="flipcard" ng-class="{'flipped': security.input.params.controls.table[getModelIndex(d.deviceId,'controls.table')]}">
      <!--  Inactive card -->
      <!--  <div class="flexcard-item inactive" ng-if="!security[$index]"> -->
      <div class="flexcard-item front">
        <figure>
          <img  ng-src="{{d.iconPath}}" err-src="{{cfg.img.placeholder}}" alt="img" />
        </figure>
         <div class="body">
              <h2>{{d.deviceNameShort}}</h2>
              <button type="button" class="btn btn-default" ng-click="assignDevice(d.deviceId,'controls')">
                  <i class="fa fa-plus text-success" title="{{_t('lb_remove')}}"></i>
              </button>
          
        </div>
      </div>
      <!--  Active card -->
      <!-- <div class="flexcard-item activ" ng-if="security[$index]"> -->
      <div class="flexcard-item back">
          <span class="close">
              <i class="fa fa-times" title="{{_t('lb_remove')}}" ng-click="unassignDevice(d.deviceId,'controls')"></i>
          </span>
        <figure>
            <h2>{{d.deviceNameShort}}</h2>
          <!-- <img ng-src="{{d.iconPath}}" err-src="{{cfg.img.placeholder}}" alt="img" /> -->
        </figure>
        <div class="body">
         <div class="control">
              <label>{{_t('arm_condition')}}</label>
              <select class="form-control" ng-model="security.input.params.controls.table[getModelIndex(d.deviceId,'controls.table')].armCondition">
                <!-- <option value="" ng-selected="true">{{_t('arm_condition')}}</option> -->
                <option value="{{a}}" ng-repeat="a in security.cfg.controls.status track by $index" ng-selected="security.input.params.controls.table[getModelIndex(d.deviceId,'controls.table')].armCondition == a">
                  {{_t(a)}}</option>
              </select>
              <label>{{_t('disarm_condition')}}</label>
              <select class="form-control" ng-model="security.input.params.controls.table[getModelIndex(d.deviceId,'controls.table')].disarmCondition">
                <!-- <option value="" ng-selected="true">{{_t('disarm_condition')}}</option> -->
                <option value="{{a}}" ng-repeat="a in security.cfg.controls.status track by $index" ng-selected="security.input.params.controls.table[getModelIndex(d.deviceId,'controls.table')].disarmCondition == a">
                  {{_t(a)}}</option>
              </select>
              <label>{{_t('reset_condition')}}</label>
              <select class="form-control" ng-model="security.input.params.controls.table[getModelIndex(d.deviceId,'controls.table')].clearCondition">
               <!--  <option value="" ng-selected="true">{{_t('reset_condition')}}</option> -->
                <option value="{{a}}" ng-repeat="a in security.cfg.controls.status track by $index" ng-selected="security.input.params.controls.table[getModelIndex(d.deviceId,'controls.table')].clearCondition == a">
                  {{_t(a)}}</option>
              </select>
            </div>
        </div>
      </div>
    </div>
  </div>
</div>