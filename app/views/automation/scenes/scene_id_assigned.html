<!-- <pre>{{scene.assignedDevices|json}}</pre> -->
<div class="automation-report app-row-report clearfix">
  <!-- Report body -->
  <div class="report-entry" ng-repeat="d in scene.availableDevices|orderBy: 'location' track by $index" ng-if="scene.assignedDevices.indexOf(d.id) > -1">
    
      <div class="report-col">
          <div ng-if="d.deviceType == 'toggleButton'">{{d.metrics.title}} - <em>{{scene.rooms[d.location].title}}</em> </div>
        <div class="clickable"  ng-if="d.deviceType != 'toggleButton'" ng-click="expandParams(d.deviceType + $index,d)">{{d.metrics.title}} - <em>{{scene.rooms[d.location].title}}</em> </div>
        <div class="form-collapsed form-inline" ng-if="expand[d.deviceType + $index]" ng-include="'app/views/automation/scenes/scene_id_form_'+ d.deviceType +'.html'"></div>
      </div>
      <div class="report-col report-ctrl form-inline">
          <button type="button" class="btn btn-default" title="{{_t('lb_remove')}}" ng-hide="d.deviceType == 'toggleButton'" ng-click="expandParams(d.deviceType + $index,d)">
            <i class="fa" ng-class="expand[d.deviceType + $index] ? 'fa-reply' : 'fa-pencil text-primary'"></i>
          </button>
          <button type="button" class="btn btn-default" title="{{_t('lb_remove')}}" ng-click="unassignDevice(d)">
            <i class="fa fa-times text-danger"></i>
          </button>
      </div>
  </div>
</div>