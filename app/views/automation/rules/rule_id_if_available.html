
<!-- <pre>{{rule.source.selected|json}}</pre> -->
<!-- Available -->
<div class="accordion-entry" ng-repeat="r in rule.rooms track by $index" ng-hide="!rule.source.devicesInRoom[r.id]">
  <!-- Accordion header -->
  <h2 class="accordion-entry-title" ng-click="expandElement('room_source_' + r.id)">
    <img class="navi-img" ng-src="{{r.img_src}}" alt="img" /> {{r.title}}
    <i class="fa accordion-arrow" ng-class="expand['room_source_' + r.id] ? 'fa-chevron-up':'fa-chevron-down'"></i>
  </h2>
  <!-- Accordion body -->

  <div class="accordion-entry-ctrl" ng-if="expand['room_source_' + r.id]">
    <a href="" class="btn btn-default btn-tag" title="{{d.metrics.title}}" ng-repeat="d in rule.source.devices | orderBy:'metrics.title' track by $index" ng-if="d.location == r.id && d.id != rule.source.selected.device" ng-click="assignSourceDevice(d)">{{d.metrics.title|cutText:true:20}}
      <i class="fa fa-plus text-success" title="{{_t('add_new')}}"></i>
    </a>
  </div>
</div>