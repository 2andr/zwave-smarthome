<!-- Select-->
<div class="form-group first form-inline">
  <select class="form-control" ng-model="rule.source.selected.device" ng-change="changeSource(rule.source.selected.device)">
    <option value="">--- Select a source device ---</option>
    <option value="{{v.id}}" ng-repeat="v in rule.source.devices | orderBy:'metrics.title' track by $index" ng-selected="v.id == rule.source.selected.device">{{v.metrics.title}} - {{rule.rooms[v.location].title}}</option>
  </select>
</div>
<div ng-include="'app/views/automation/rules/rule_id_if_'+ rule.input.params.sourceDevice.filterIf +'.html'"></div>