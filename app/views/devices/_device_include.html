<!-- Include -->
<div ng-controller="IncludeController">
    <h2 class="page-subtitle"><span ng-bind="_t('lb_include_device')"></span> <strong  ng-show="device.data" ng-bind="device.data.Name"></strong></h2> 
    <p class="text-center">
        <a href="#devices/zwave"><i class="fa fa-chevron-circle-left fa-lg"></i> <span ng-bind="_t('btn_back')"></span></a>
       
    <p>
    <!-- <div class="device-perex">
       The inclusion process connected your new device to the Z-Wave network. Make sure that the device is in factory default state. Othrwise the inclusion will not work. If you are unsure consult the devices manual how to reset the device int factory default or perform a device exclusion.
   </div>-->

    <!-- include -->
    <div class="col-device app-border app-gradient app-shadow">
        <div class="col-device-in">
            <div ng-show="!inclusionError">
                <div class="alert alert-warning" ng-show="controllerState == 1"><i class="fa fa-spinner fa-spin"></i> <span ng-bind="_t('lb_ready_include')"></span> <strong ng-bind="device.data.Inclusion"></strong></div>
                <div class="alert alert-warning" ng-show="includedDeviceId"><i class="fa fa-spinner fa-spin"></i> <span ng-bind="_t('lb_new_device_found')"></span></div>
                <div class="alert alert-success" ng-show="lastIncludedDevice"><i class="fa fa-check"></i> <span ng-bind="_t('lb_new_device_configured')"></span>:  <strong ng-bind="lastIncludedDevice"></strong></div>
            </div>
            <div ng-if="inclusionError">
                <div class="alert alert-danger" ng-show="!hasBattery"><i class="fa fa-minus-circle"></i> <span ng-bind="_t('lb_include_device_mains_error')"></span></div>
                <div class="alert alert-danger" ng-show="hasBattery"><i class="fa fa-minus-circle"></i> <span ng-bind="_t('lb_include_device_battery_error')"></span> <span ng-bind="device.data.Wakeup"></span></div>

            </div>


            <button class="btn btn-success btn-lg"
                    ng-disabled="[5, 6, 7, 20].indexOf(controllerState) > -1"
                    ng-show="[1, 2, 3, 4].indexOf(controllerState) == -1"
                    ng-click="runZwaveCmd('controller.AddNodeToNetwork(1)')"
                    ><i class="fa fa-plug"></i> <span ng-bind="_t('btn_inclusion_start')"></span></button>
            <button 
                class="btn btn-danger btn-lg"
                id="btn_nm_include_stop"
                ng-show="[1, 2, 3, 4].indexOf(controllerState) > -1"
                ng-click="runZwaveCmd('controller.AddNodeToNetwork(0)')"
                ng-bind="_t('btn_inclusion_stop')"></button>
            <div class="device-statement">
                <p ng-bind="_t('lb_inclusion_info')"></p>
                <p ng-show="device.data.Preparation"><strong ng-bind="_t('lb_preparation')"></strong>: <span ng-bind="device.data.Preparation"></span></p>
            </div>
            <!--  <div class="device-statement" ng-show="device.data.Inclusion"><strong>Inclusion:</strong> <span ng-bind="device.data.Inclusion"></span></div>-->
            
              <!-- exclude -->
            <div class="col-device-exclude">
                <div class="alert alert-warning" ng-show="controllerState == 5"><i class="fa fa-spinner fa-spin"></i> <span ng-bind="_t('lb_ready_exclude')"></span> <strong ng-bind="device.data.Exclusion"></strong></div>
                <div class="alert alert-success" ng-show="lastExcludedDevice != null"><i class="fa fa-check"></i> <span ng-bind="_t('lb_device_excluded')"></span></div>
                <button 
                    class="btn btn-info"
                    ng-disabled="[1, 2, 3, 4, 20].indexOf(controllerState) > -1"
                    ng-show="[5, 6, 7].indexOf(controllerState) == -1"
                    ng-click="runZwaveCmd('controller.RemoveNodeFromNetwork(1)')"
                    ><i class="fa fa-power-off"></i> <span ng-bind="_t('btn_exclusion_start')"></span></button>
                <button 
                    class="btn btn-danger"
                    ng-show="[5, 6, 7].indexOf(controllerState) > -1"
                    ng-click="runZwaveCmd('controller.RemoveNodeFromNetwork(0)')"
                    ng-bind="_t('btn_exclusion_stop')"></button>

                <!--  <div class="device-statement" ng-show="device.data.Exclusion"><strong>Exclusion:</strong> <span ng-bind="device.data.Exclusion"></span></div>-->
            </div>

        </div>
    </div>





</div>

